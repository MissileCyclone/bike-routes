<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Веломаршруты</title>
    <style>
        /* Основные стили */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        #header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
        }

        #logo {
            font-size: 24px;
        }

        #auth {
            display: flex;
            align-items: center;
        }

        #auth a {
            color: #fff;
            text-decoration: none;
            margin-right: 15px;
        }

        #map {
            flex-grow: 1;
        }

        #avatar {
            border-radius: 50%;
            height: 40px;
            width: 40px;
            margin-right: 10px;
        }

        #nickname {
            color: #fff;
        }

        #logout {
            background-color: #ff0000;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <header id="header">
        <div id="logo">Веломаршруты</div>
        <div id="auth">
            <a href="login.html" id="login-link">Войти</a>
        </div>
    </header>

    <div id="map"></div>

    <script>
        // Интеграция с Яндекс.Картами
        ymaps.ready(init);

        function init() {
            var map = new ymaps.Map("map", {
                center: [55.751574, 37.573856],
                zoom: 9
            });

            // Здесь нужно будет загружать маршруты из базы данных
            // Пример добавления маршрута на карту:
            /*
            var route = new ymaps.Polyline([
                [55.751574, 37.573856],
                [55.751574, 37.673856]
            ], {}, {
                strokeColor: "#FF0000",
                strokeWidth: 4
            });

            map.geoObjects.add(route);
            */
        }

        // Пример работы с авторизацией
        function checkUserAuth() {
            var user = getUser(); // Проверка, авторизован ли пользователь

            if (user) {
                // Если пользователь авторизован, заменяем "Войти" на аватарку и никнейм
                document.getElementById('login-link').style.display = 'none'; // Убираем ссылку "Войти"
                
                // Создаем элементы для аватара и ника
                var authContainer = document.getElementById('auth');
                
                var avatar = document.createElement('img');
                avatar.id = 'avatar';
                avatar.src = user.avatarUrl;
                authContainer.appendChild(avatar);
                
                var nickname = document.createElement('span');
                nickname.id = 'nickname';
                nickname.textContent = user.nickname;
                authContainer.appendChild(nickname);
                
                var logoutButton = document.createElement('button');
                logoutButton.id = 'logout';
                logoutButton.textContent = 'Выйти';
                authContainer.appendChild(logoutButton);

                // Добавляем событие для выхода
                logoutButton.addEventListener('click', function() {
                    alert('Вы вышли из аккаунта');
                    location.reload(); // Перезагрузка страницы после выхода
                });
            }
        }

        function getUser() {
            // Пример получения данных о пользователе (в будущем можно заменить на запрос к серверу или localStorage)
            return null; // Возвращаем null, когда пользователь не авторизован
        }

        // Проверка авторизации при загрузке страницы
        checkUserAuth();
    </script>
</body>
</html>